<!doctype html>
<html lang="de-DE">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1" />
    <meta name="generator" content="VuePress 2.0.0-rc.26" />
    <style>
      :root {
        --vp-c-bg: #fff;
      }

      [data-theme='dark'] {
        --vp-c-bg: #1b1b1f;
      }

      html,
      body {
        background-color: var(--vp-c-bg);
      }
    </style>
    <script>
      const useChoice = localStorage.getItem('vuepress-color-scheme')
      const systemStatus =
        'matchMedia' in window
          ? window.matchMedia('(prefers-color-scheme: dark)').matches
          : false

      if (useChoice === 'light') {
        document.documentElement.dataset.theme = 'light'
      } else if (useChoice === 'dark' || systemStatus) {
        document.documentElement.dataset.theme = 'dark'
      }
    </script>
    <script type="application/ld+json">{"@context":"https://schema.org","@type":"Article","headline":"Der Lebenszyklus eines Zahlungskanals im Lightning Netzwerk","image":[""],"dateModified":null,"author":[{"@type":"Person","name":"Dennis","url":"https://d11n.net","email":"mail@d11n.net"}]}</script><meta property="og:url" content="https://hey-bitcoin.de/anleitung/lightning-network-zahlungskanal/"><meta property="og:site_name" content="Hey Bitcoin!"><meta property="og:title" content="Der Lebenszyklus eines Zahlungskanals im Lightning Netzwerk"><meta property="og:description" content="Der Lebenszyklus eines Zahlungskanals im Lightning Netzwerk Das Lightning Netzwerk baut auf der Bitcoin Blockchain auf und erweitert diese Basisebene mit dem Ziel der Skalierbar..."><meta property="og:type" content="article"><meta property="og:locale" content="de-DE"><title>Der Lebenszyklus eines Zahlungskanals im Lightning Netzwerk | Hey Bitcoin!</title><meta name="description" content="Der Lebenszyklus eines Zahlungskanals im Lightning Netzwerk Das Lightning Netzwerk baut auf der Bitcoin Blockchain auf und erweitert diese Basisebene mit dem Ziel der Skalierbar...">
    <link rel="preload" href="/assets/style-DXCPLM4v.css" as="style"><link rel="stylesheet" href="/assets/style-DXCPLM4v.css">
    <link rel="modulepreload" href="/assets/app-HBsY_iXE.js"><link rel="modulepreload" href="/assets/index.html-CtJHtXV5.js">
    <link rel="prefetch" href="/assets/index.html-gQok6ccf.js" as="script"><link rel="prefetch" href="/assets/index.html-BU8lEiwI.js" as="script"><link rel="prefetch" href="/assets/index.html-ns8ikCj5.js" as="script"><link rel="prefetch" href="/assets/index.html-CkHiv24n.js" as="script"><link rel="prefetch" href="/assets/index.html-CTvWLbXW.js" as="script"><link rel="prefetch" href="/assets/index.html-CvXpFtWR.js" as="script"><link rel="prefetch" href="/assets/index.html-Czevt2Vw.js" as="script"><link rel="prefetch" href="/assets/index.html-BsCYJcZD.js" as="script"><link rel="prefetch" href="/assets/index.html-CZeGzVSt.js" as="script"><link rel="prefetch" href="/assets/index.html-B047MF5P.js" as="script"><link rel="prefetch" href="/assets/index.html-CHHinaBb.js" as="script"><link rel="prefetch" href="/assets/index.html-DqqYvzok.js" as="script"><link rel="prefetch" href="/assets/index.html-DbvLA-3Z.js" as="script"><link rel="prefetch" href="/assets/index.html-D1DFHuPP.js" as="script"><link rel="prefetch" href="/assets/index.html-DC-9wdRd.js" as="script"><link rel="prefetch" href="/assets/index.html-C-xT6LP0.js" as="script"><link rel="prefetch" href="/assets/index.html-dTPvvRtQ.js" as="script"><link rel="prefetch" href="/assets/index.html-jpt_r-sk.js" as="script"><link rel="prefetch" href="/assets/index.html-vh1q_bjV.js" as="script"><link rel="prefetch" href="/assets/index.html-DOlqZf81.js" as="script"><link rel="prefetch" href="/assets/index.html-CpnXnSjj.js" as="script"><link rel="prefetch" href="/assets/404.html-Db6G1x_4.js" as="script">
  </head>
  <body>
    <div id="app"><!--[--><div class="vp-theme-container external-link-icon" vp-container><!--[--><header class="vp-navbar" vp-navbar><div class="vp-toggle-sidebar-button" title="toggle sidebar" aria-expanded="false" role="button" tabindex="0"><div class="icon" aria-hidden="true"><span></span><span></span><span></span></div></div><span><a class="route-link" href="/"><img class="vp-site-logo" src="/bitcoin.svg" alt="Hey Bitcoin!"><span class="vp-site-name vp-hide-mobile" aria-hidden="true">Hey Bitcoin!</span></a></span><div class="vp-navbar-items-wrapper" style=""><!--[--><!--]--><nav class="vp-navbar-items vp-hide-mobile" aria-label="site navigation"><!--[--><div class="vp-navbar-item"><a class="route-link route-link-active auto-link" href="/anleitung/" aria-label="Anleitungen"><!--[--><!--[--><!--]--><!--]-->Anleitungen<!--[--><!--[--><!--]--><!--]--></a></div><div class="vp-navbar-item"><a class="route-link auto-link" href="/faq/" aria-label="Fragen und Antworten"><!--[--><!--[--><!--]--><!--]-->Fragen und Antworten<!--[--><!--[--><!--]--><!--]--></a></div><div class="vp-navbar-item"><a class="route-link auto-link" href="/glossar/" aria-label="Glossar"><!--[--><!--[--><!--]--><!--]-->Glossar<!--[--><!--[--><!--]--><!--]--></a></div><div class="vp-navbar-item"><a class="route-link auto-link" href="/links/" aria-label="Links"><!--[--><!--[--><!--]--><!--]-->Links<!--[--><!--[--><!--]--><!--]--></a></div><!--]--></nav><!--[--><!--]--><button type="button" class="vp-toggle-color-mode-button" title="toggle color mode"><svg class="light-icon" viewbox="0 0 32 32" style=""><path d="M16 12.005a4 4 0 1 1-4 4a4.005 4.005 0 0 1 4-4m0-2a6 6 0 1 0 6 6a6 6 0 0 0-6-6z" fill="currentColor"></path><path d="M5.394 6.813l1.414-1.415l3.506 3.506L8.9 10.318z" fill="currentColor"></path><path d="M2 15.005h5v2H2z" fill="currentColor"></path><path d="M5.394 25.197L8.9 21.691l1.414 1.415l-3.506 3.505z" fill="currentColor"></path><path d="M15 25.005h2v5h-2z" fill="currentColor"></path><path d="M21.687 23.106l1.414-1.415l3.506 3.506l-1.414 1.414z" fill="currentColor"></path><path d="M25 15.005h5v2h-5z" fill="currentColor"></path><path d="M21.687 8.904l3.506-3.506l1.414 1.415l-3.506 3.505z" fill="currentColor"></path><path d="M15 2.005h2v5h-2z" fill="currentColor"></path></svg><svg class="dark-icon" viewbox="0 0 32 32" style="display:none;"><path d="M13.502 5.414a15.075 15.075 0 0 0 11.594 18.194a11.113 11.113 0 0 1-7.975 3.39c-.138 0-.278.005-.418 0a11.094 11.094 0 0 1-3.2-21.584M14.98 3a1.002 1.002 0 0 0-.175.016a13.096 13.096 0 0 0 1.825 25.981c.164.006.328 0 .49 0a13.072 13.072 0 0 0 10.703-5.555a1.01 1.01 0 0 0-.783-1.565A13.08 13.08 0 0 1 15.89 4.38A1.015 1.015 0 0 0 14.98 3z" fill="currentColor"></path></svg></button><!----></div></header><!--]--><div class="vp-sidebar-mask"></div><!--[--><aside class="vp-sidebar" vp-sidebar><nav class="vp-navbar-items" aria-label="site navigation"><!--[--><div class="vp-navbar-item"><a class="route-link route-link-active auto-link" href="/anleitung/" aria-label="Anleitungen"><!--[--><!--[--><!--]--><!--]-->Anleitungen<!--[--><!--[--><!--]--><!--]--></a></div><div class="vp-navbar-item"><a class="route-link auto-link" href="/faq/" aria-label="Fragen und Antworten"><!--[--><!--[--><!--]--><!--]-->Fragen und Antworten<!--[--><!--[--><!--]--><!--]--></a></div><div class="vp-navbar-item"><a class="route-link auto-link" href="/glossar/" aria-label="Glossar"><!--[--><!--[--><!--]--><!--]-->Glossar<!--[--><!--[--><!--]--><!--]--></a></div><div class="vp-navbar-item"><a class="route-link auto-link" href="/links/" aria-label="Links"><!--[--><!--[--><!--]--><!--]-->Links<!--[--><!--[--><!--]--><!--]--></a></div><!--]--></nav><!--[--><!--]--><ul class="vp-sidebar-items"><!--[--><li><p tabindex="0" class="vp-sidebar-item vp-sidebar-heading">Die ersten Schritte <!----></p><ul class="vp-sidebar-children" style=""><!--[--><li><a class="route-link auto-link vp-sidebar-item" href="/anleitung/bitcoin-kaufen-was-beachten/" aria-label="Bitcoin kaufen: Was muss ich beachten?"><!--[--><!--[--><!--]--><!--]-->Bitcoin kaufen: Was muss ich beachten?<!--[--><!--[--><!--]--><!--]--></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/anleitung/bitcoin-selber-verwahren/" aria-label="Bitcoin selber verwahren"><!--[--><!--[--><!--]--><!--]-->Bitcoin selber verwahren<!--[--><!--[--><!--]--><!--]--></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/anleitung/bitcoin-wallet-grundlagen/" aria-label="Wallet Grundlagen: Accounts, Derivation Paths und Passphrases"><!--[--><!--[--><!--]--><!--]-->Wallet Grundlagen: Accounts, Derivation Paths und Passphrases<!--[--><!--[--><!--]--><!--]--></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/anleitung/utxo-management/" aria-label="UTXO-Management: Privatsphäre &amp; Gebühren"><!--[--><!--[--><!--]--><!--]-->UTXO-Management: Privatsphäre &amp; Gebühren<!--[--><!--[--><!--]--><!--]--></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/anleitung/finanzielle-privatsphaere/" aria-label="Warum finanzielle Privatsphäre in Bitcoin jeden etwas angeht"><!--[--><!--[--><!--]--><!--]-->Warum finanzielle Privatsphäre in Bitcoin jeden etwas angeht<!--[--><!--[--><!--]--><!--]--></a><!----></li><!--]--></ul></li><li><p tabindex="0" class="vp-sidebar-item vp-sidebar-heading">Der Praxisstart <!----></p><ul class="vp-sidebar-children" style=""><!--[--><li><a class="route-link auto-link vp-sidebar-item" href="/anleitung/bitcoin-fullnode/" aria-label="Deine eigene Bitcoin Fullnode"><!--[--><!--[--><!--]--><!--]-->Deine eigene Bitcoin Fullnode<!--[--><!--[--><!--]--><!--]--></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/anleitung/sparrow-wallet/" aria-label="Sparrow Wallet: Dein Tool für Selbstverwahrung &amp; Privatsphäre"><!--[--><!--[--><!--]--><!--]-->Sparrow Wallet: Dein Tool für Selbstverwahrung &amp; Privatsphäre<!--[--><!--[--><!--]--><!--]--></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/anleitung/bitcoin-fullnode-mit-wallet-verbinden/" aria-label="Bitcoin Fullnode mit der Wallet App verbinden"><!--[--><!--[--><!--]--><!--]-->Bitcoin Fullnode mit der Wallet App verbinden<!--[--><!--[--><!--]--><!--]--></a><!----></li><!--]--></ul></li><li><p tabindex="0" class="vp-sidebar-item vp-sidebar-heading">SeedSigner <!----></p><ul class="vp-sidebar-children" style=""><!--[--><li><a class="route-link auto-link vp-sidebar-item" href="/anleitung/seedsigner-hardware/" aria-label="SeedSigner: Der Bitcoin-Computer"><!--[--><!--[--><!--]--><!--]-->SeedSigner: Der Bitcoin-Computer<!--[--><!--[--><!--]--><!--]--></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/anleitung/seedsigner-software-seedqr/" aria-label="SeedSigner: Software und SeedQR"><!--[--><!--[--><!--]--><!--]-->SeedSigner: Software und SeedQR<!--[--><!--[--><!--]--><!--]--></a><!----></li><!--]--></ul></li><li><p tabindex="0" class="vp-sidebar-item vp-sidebar-heading active">Lightning Netzwerk <!----></p><ul class="vp-sidebar-children" style=""><!--[--><li><a class="route-link route-link-active auto-link vp-sidebar-item active" href="/anleitung/lightning-network-zahlungskanal/" aria-label="Der Lebenszyklus eines Zahlungskanals im Lightning Netzwerk"><!--[--><!--[--><!--]--><!--]-->Der Lebenszyklus eines Zahlungskanals im Lightning Netzwerk<!--[--><!--[--><!--]--><!--]--></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/anleitung/lightning-network-routing/" aria-label="Wie Kapazität und Liquidität das Routing im Lightning Netzwerk bestimmen"><!--[--><!--[--><!--]--><!--]-->Wie Kapazität und Liquidität das Routing im Lightning Netzwerk bestimmen<!--[--><!--[--><!--]--><!--]--></a><!----></li><!--]--></ul></li><li><p tabindex="0" class="vp-sidebar-item vp-sidebar-heading">Sonstiges <!----></p><ul class="vp-sidebar-children" style=""><!--[--><li><a class="route-link auto-link vp-sidebar-item" href="/anleitung/software-verifizieren/" aria-label="Software verifizieren"><!--[--><!--[--><!--]--><!--]-->Software verifizieren<!--[--><!--[--><!--]--><!--]--></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/anleitung/vpn-leitfaden/" aria-label="VPN-Nutzung: Ein praktischer Leitfaden"><!--[--><!--[--><!--]--><!--]-->VPN-Nutzung: Ein praktischer Leitfaden<!--[--><!--[--><!--]--><!--]--></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/anleitung/grapheneos-sicherheit-privatsphaere/" aria-label="GrapheneOS: Warum dein nächstes Smartphone souverän sein sollte"><!--[--><!--[--><!--]--><!--]-->GrapheneOS: Warum dein nächstes Smartphone souverän sein sollte<!--[--><!--[--><!--]--><!--]--></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/anleitung/nostr-dezentrale-twitter-alternative/" aria-label="Nostr: Eine dezentrale Alternative zu Twitter — und mehr …"><!--[--><!--[--><!--]--><!--]-->Nostr: Eine dezentrale Alternative zu Twitter — und mehr …<!--[--><!--[--><!--]--><!--]--></a><!----></li><!--]--></ul></li><!--]--></ul><!--[--><!--]--></aside><!--]--><!--[--><main class="vp-page" data-v-11d00a23><!--[--><!--]--><div vp-content><!--[--><!--]--><div id="content"><h1 id="der-lebenszyklus-eines-zahlungskanals-im-lightning-netzwerk" tabindex="-1"><a class="header-anchor" href="#der-lebenszyklus-eines-zahlungskanals-im-lightning-netzwerk"><span>Der Lebenszyklus eines Zahlungskanals im Lightning Netzwerk</span></a></h1><p>Das Lightning Netzwerk baut auf der Bitcoin Blockchain auf und erweitert diese Basisebene mit dem Ziel der Skalierbarkeit: Es ermöglicht schnellere Transaktionen und geringere Gebühren, die durch ein Netzwerk aus bidirektionalen Zahlungskanälen möglich werden. Dieser Artikel erklärt dir den Aufbau und Lebenszyklus eines solchen Zahlungskanals.</p><p>Ein Zahlungskanal besteht jeweils zwischen zwei Parteien (bspw. zwischen Käufer und Verkäufer) und kann für beliebig viele Zahlungen unter ihnen genutzt werden. In der Regel wird solch ein Kanal seitens der Partei erstellt, die regelmäßig Zahlungen an die andere Partei durchführen möchte.</p><p>Alles beginnt mit dem Abzweigen von der Blockchain in das Lightning Netzwerk bei der Erstellung eines Zahlungskanals. Aus der Vogelperspektive lässt sich dies sehr einfach darstellen:</p><p><img src="/assets/zahlungskanal-lebenszyklus-C061C6s1.png" alt="Der Lebenszyklus eines Zahlungskanals im Lightning Netzwerk"></p><p>Sehen wir uns das Ganze im Detail an …</p><h2 id="die-eroffnungstransaktion" tabindex="-1"><a class="header-anchor" href="#die-eroffnungstransaktion"><span>Die Eröffnungstransaktion</span></a></h2><p><mark>Bei der Eröffnung eines Zahlungskanals wird eine Multisignatur-Wallet für die beiden am Kanal beteiligten Parteien erzeugt.</mark> Diese Multisignatur-Wallet erstellt dabei drei Transaktionen, von denen jedoch vorerst nur eine — die <em>Eröffnungstransaktion</em> — auf der Blockchain veröffentlicht wird.</p><p>Die beiden weiteren Transaktionen werden als <em>Verbindlichkeitstransaktionen</em> bezeichnet und jeweils von den beiden Parteien einbehalten. Diese Verbindlichkeitstransaktionen kann man sich wie eine laufend fortgeführte Abrechnungstabelle vorstellen. Sie werden später bei der Kanalschließung genutzt, um den Zahlungsstand der beiden Kanalpartnern abzurechnen. Eine oft genutzte Metapher dafür ist das Anschreiben lassen in einer Bar und das Bezahlen der Rechnung am Ende des Abends.</p><p>Visualisieren wir es mit dem folgenden Beispiel, in dem Alice einen Kanal mit 10 mBTC (10 Milli-Bitcoin, also 1 Millionen Sats) zu Bob eröffnet …</p><p><img src="/assets/eroeffnungstransaktion-C_gNBSXB.png" alt="Eröffnungstransaktion"></p><p>Beide Partei haben jeweils ein <em>Secret</em>, mit dem sie einen <em>Hash</em> für ihre Verbindlichkeitstransaktion generieren. Der Hash wird untereinander ausgetauscht, das Secret behält vorerst jede Partei für sich.</p><p>Sobald die Eröffnungstransaktion genügend Bestätigungen hat, gilt der Zahlungskanal als offen und kann genutzt werden.</p><div class="hint-container tip"><p class="hint-container-title">Zusatzinformation</p><p>Aktuell kann nur eine der beteiligten Parteien das Geld für die Eröffnung eines neuen Zahlungskanals bereitstellen. Zukünftige Versionen der <a href="https://github.com/lightningnetwork/lightning-rfc" target="_blank" rel="noopener noreferrer">Lightning Network Spezifikation</a> sehen aber das Öffnen von beidseitig finanzierten Kanälen vor.</p></div><h2 id="verbindlichkeitstransaktionen" tabindex="-1"><a class="header-anchor" href="#verbindlichkeitstransaktionen"><span>Verbindlichkeitstransaktionen</span></a></h2><p>Bob sendet Alice eine Rechnung über 4 mBTC, welche Alice daraufhin bezahlt.</p><p><mark>Im Zuge der Zahlung wird der neue Transaktionshash, sowie das vorherige Secret ausgetauscht.</mark> Das erhaltene Secret stellt für die Kanalpartner jeweils den Widerrufungsschlüssel dar. Jede neue Verbindlichkeitstransaktion invalidiert die vorherigen, da das nun bekannte Secret dazu genutzt werden kann, die bisherigen Transaktionen des Zahlungskanals zu widerrufen.</p><p><img src="/assets/verbindlichkeit-1-xUvnMf9D.png" alt="Verbindlichkeitstransaktion Nr. 1: Es wird der neue Transaktionshash, sowie das vorherige Secret ausgetauscht."></p><p>Nach der ersten Transaktion innerhalb des Kanals, bei der sich die Verteilung der Beträge geändert hat, sieht der Stand von Alice&#39;s Verbindlichkeitstransaktion nun folgendermaßen aus:</p><ul><li>4 mBTC für Bob und</li><li>entweder: 6 mBTC für Alice nach 1000 Blöcken</li><li>oder: 6 mBTC für Bob wenn er Alice&#39;s Secret kennt</li></ul><p>Bob&#39;s Verbindlichkeitstransaktion ist das exakte Gegenteil zu Alice&#39;s Stand:</p><ul><li>6 mBTC für Alice und</li><li>entweder: 4 mBTC für Bob nach 1000 Blöcken</li><li>oder: 4 mBTC für Alice wenn sie Bob&#39;s Secret kennt</li></ul><p>Das macht Spaß – weiter geht&#39;s und wir sehen uns an, was es mit diesen magischen <em>1000 Blöcken Wartezeit</em> (etwa 7 Tage) auf sich hat …</p><p><img src="/assets/verbindlichkeit-2-Bo0Ei35o.png" alt="Verbindlichkeitstransaktion Nr. 2: Wieder wird der neue Transaktionshash, sowie das vorherige Secret ausgetauscht."></p><p>Nach einer erneuten Zahlung über 4 mBTC von Alice an Bob sieht Alice&#39;s Stand so aus:</p><ul><li>8 mBTC für Bob und</li><li>entweder: 2 mBTC für Alice nach 1000 Blöcken</li><li>oder: 2 mBTC für Bob wenn er Alice&#39;s Secret kennt</li></ul><p>Die 1000 Blöcken Wartezeit werden nun interessant, wenn es zu einem der möglichen Szenarien der Kanalschließung kommt …</p><h2 id="kanalschließung" tabindex="-1"><a class="header-anchor" href="#kanalschließung"><span>Kanalschließung</span></a></h2><p>Es gibt mehrere Möglichkeiten, wie es zu einer Kanalschließung im Lightning Netzwerk kommen kann. Fangen wir mit dem einfachsten und üblichsten Szenario an …</p><h3 id="kooperative-kanalschließung" tabindex="-1"><a class="header-anchor" href="#kooperative-kanalschließung"><span>Kooperative Kanalschließung</span></a></h3><p>Hierbei handelt es sich um den Idealfall, welcher in der Regel auch zustande kommt: <mark>Eine beidseitige und einvernehmliche Schließung, welche von beiden Kanalpartnern durch das Veröffentlichen ihrer jeweils aktuellen Verbindlichkeitstransaktion initiiert wird.</mark></p><p>Die Multisignatur-Wallet erzeugt ihre letzte Transaktion und zahlt den beiden Parteien ihre jeweils zustehenden Beträge wieder on-chain aus. Beide Parteien sind glücklich und die Kanalschließung wird mit der Blockchain-Bestätigung der schließenden Transaktion vollzogen.</p><p><img src="/assets/schliessung-kooperativ-BUxWtNwV.png" alt="Kooperative Kanalschließung: Alice und Bob veröffentlichen ihre jeweils aktuellen Verbindlichkeitstransaktion."></p><h3 id="erzwungene-kanalschließung" tabindex="-1"><a class="header-anchor" href="#erzwungene-kanalschließung"><span>Erzwungene Kanalschließung</span></a></h3><p>Sagen wir Alice&#39;s Node verschwindet und Bob kann daher nicht den einvernehmlichen und kooperativen Weg gehen: Er kann den Kanal nicht mehr nutzen und muss die Schließung seinerseits erzwingen, um sich seinen Teil der Verbindlichkeiten wieder on-chain auszahlen zu lassen.</p><p>In diesem Fall kommen die 1000 Blöcken Wartezeit (etwa 7 Tage) ins Spiel, die wiederum Alice die Chance geben, auf diese einseitig initiierte Schließung zu reagieren und sie ggf. zu widerrufen.</p><p><img src="/assets/schliessung-erzwungen-aF2C6S_H.png" alt="Erzwungene Kanalschließung: Bob veröffentlicht seine aktuelle Verbindlichkeitstransaktion."></p><p>Kommt Alice in dieser Zeit nicht wieder online oder sie akzeptiert den von Bob veröffentlichten Stand, wird der Kanal nach 1000 Blöcken regulär geschlossen und die beiden Parteien bekommen on-chain ihre jeweiligen Beträge (auf Basis von Bob&#39;s Verbindlichkeitstransaktion) ausgezahlt.</p><p>Aber Moment …</p><h3 id="was-passiert-wenn-ein-falscher-stand-veroffentlicht-wird" tabindex="-1"><a class="header-anchor" href="#was-passiert-wenn-ein-falscher-stand-veroffentlicht-wird"><span>Was passiert wenn ein falscher Stand veröffentlicht wird?</span></a></h3><p>Nehmen wir an Bob&#39;s Node verschwindet und Alice veröffentlicht einen veralteten Stand, welcher sie bevorteilt. Dies kann entweder beabsichtigt vorkommen (das wäre gemein, um nicht zu sagen Betrug) oder versehentlich, bspw. durch das Wiederherstellen eines veralteten Stands aus einem Backup.</p><p><img src="/assets/schliessung-vertragsbruch-1-DXTJZyoc.png" alt="Schließung des Zahlungskanals mit einem veralteten Stand"></p><p>Die 1000 Blöcke Wartezeit geben Bob nun die Gelegenheit, seinerseits wieder online zu kommen und den von Alice veröffentlichten Stand zu widerrufen: Er kennt und veröffentlicht dafür das Secret für Alice&#39;s veraltete Verbindlichkeitstransaktion und kann somit nachweisen, dass dies nicht die aktuellste Version ist.</p><p><img src="/assets/schliessung-vertragsbruch-2-Dmd562tk.png" alt="Bestrafung für das Schließen des Zahlungskanals mit einem veralteten Stand"></p><p>Um eben solche Betrugsversuche zu unterbinden, setzt das Lightning Protokoll auf eine harte Strafe: Wird ein solcher Fall von der benachteiligten Partei aufgedeckt, resultiert es in der Beschlagnahmung des kompletten Kanalbetrags. In diesem Fall würde es bedeuten, dass die gesamten 10 mBTC an Bob gehen.</p><div class="hint-container warning"><p class="hint-container-title">Warnung</p><p>Dabei ist es auch egal, ob Alice vorsätzlich oder versehentlich den veralteten Stand veröffentlicht hat — hier gilt es also insbesondere bei der Datenmigration oder dem Einspielen von Backups aufzupassen!</p></div><p>Ok, so viel zum Lebenslauf und den verschiedenen Zuständen eines Zahlungskanals. Ich hoffe die Diagramme machen dieses eher technische Thema etwas zugänglicher.</p><p>Wenn dich das Ganze noch mal im Detail interessiert, kannst du dir <a href="https://anchor.fm/plebs-taverne/episodes/TechTuesday---Lightning-Netzwerk-erklrt-e1kqf2b" target="_blank" rel="noopener noreferrer">diese Folge der Pleb&#39;s Taverne</a> anhören. Dort erklären Cercatrova und Kid diese Aspekte ebenfalls und bieten auch weitere anschauliche Beispiele.</p></div><!--[--><div class="donate" data-v-11d00a23><h4 data-v-11d00a23>Hat dir der Artikel geholfen?</h4><p data-v-11d00a23>Wenn dir dieser Artikel gefallen hat und du gern Danke sagen möchtest, würde ich mich über ein paar Satoshis <a href="lightning:sats@d11n.net" data-v-11d00a23>per Lightning</a> freuen. </p><figure data-v-11d00a23><img src="/lnurl.png" alt="sats@d11n.net" data-v-11d00a23></figure></div><!--]--></div><footer class="vp-page-meta"><!----><div class="vp-meta-item git-info"><!----><!----></div></footer><nav class="vp-page-nav" aria-label="page navigation"><!----><a class="route-link auto-link next" href="/anleitung/lightning-network-routing/" aria-label="Wie Kapazität und Liquidität das Routing im Lightning Netzwerk bestimmen"><!--[--><div class="hint">Nächster Artikel <span class="arrow right"></span></div><div class="link"><span class="external-link">Wie Kapazität und Liquidität das Routing im Lightning Netzwerk bestimmen</span></div><!--]--></a></nav><!--[--><!--]--></main><!--]--></div><!--[--><!----><!--]--><!--]--></div>
    <script type="module" src="/assets/app-HBsY_iXE.js" defer></script>
  </body>
</html>
